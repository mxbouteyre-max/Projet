<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulaire - Organisation de recherche sur le cancer du poumon</title>
  <link rel="stylesheet" herf="style_formulaire.css" type="text/css" media="screen"/>
</head>
<body>

  <!-- BARRE SUPERIEURE -->
  <div class="topbar">
    <div class="topbar-left">
      <button class="toggle-btn" onclick="toggleSidebar()">☰</button>
      <div class="institute-name">Organisation de Recherche sur le Cancer du Poumon</div>
    </div>
    <button class="home-btn" onclick="window.location.href='index.html'">
      <img src="accueille.png" alt="Accueil">
    </button>
  </div>

  <!-- MENU LATERAL -->
  <div class="sidebar closed" id="sidebar">
    <a href="stat.html">Statistique</a>
    <a href="info.html">Informations</a>
    <a href="prevention.html">Prévention</a>
    <a href="carte.html">Carte</a>
    <a href="formulaire.html">Formulaire</a>
  </div>

  <!-- CONTENU PRINCIPAL -->
  <div class="main-content">
    <header>
      <h1>FORMULAIRE</h1>
      <p>Ce formulaire permet de savoir si vous êtes susceptible de développer un cancer du poumon, basé sur votre tabagisme, votre lieu de résidence et vos antécédents.</p>
      <p>À la fin du questionnaire, vous serez orienté(e) vers votre résultat personnalisé.</p>
    </header>

<form class="container">
  <!-- Section 1 -->
  <div class="section">
    <h2>1. Informations générales</h2>
    <label>Âge :</label>
    <input type="number" name="age" min="1" max="120" required placeholder="Âge en années">

    <label>Sexe :</label>
    <div class="gender">
      <label><input type="radio" name="sexe" value="femme"> Femme</label>
      <label><input type="radio" name="sexe" value="homme"> Homme</label>
    </div>

    <label>Taille :</label>
    <input type="number" name="taille" min="50" max="250" placeholder="cm">

    <label>Poids :</label>
    <input type="number" name="poids" min="20" max="250" placeholder="kg">
  </div>

  <!-- Section 2 -->
  <div class="section">
    <h2>2. Habitudes de tabagisme</h2>

    <label>Quelle est votre situation actuelle vis-à-vis du tabac ?</label>
    <div>
      <label><input type="radio" name="situation_tabac" value="jamais"> Je n’ai jamais fumé</label><br>
      <label><input type="radio" name="situation_tabac" value="actuellement"> Je fume actuellement (régulièrement)</label><br>
      <label><input type="radio" name="situation_tabac" value="occasionnellement"> Je fume occasionnellement (par ex. lors de soirées, rarement)</label><br>
      <label><input type="radio" name="situation_tabac" value="arrete"> J’ai arrêté de fumer</label>
    </div>

    <label>Si vous fumez actuellement ou occasionnellement :</label>
    <label>Depuis combien d’années ?</label>
    <input type="number" name="duree_tabac" min="0" placeholder="années">

    <label>En moyenne, combien de cigarettes par jour ?</label>
    <div>
      <label><input type="radio" name="cigarettes_jour" value="moins1"> Moins d’une par jour</label><br>
      <label><input type="radio" name="cigarettes_jour" value="1_5"> Entre 1 et 5 par jour</label><br>
      <label><input type="radio" name="cigarettes_jour" value="plus5"> Plus de 5 par jour</label>
    </div>

    <label>Si vous avez arrêté de fumer :</label>
    <label>Depuis combien d’années ?</label>
    <input type="number" name="arrete_annees" min="0" placeholder="années">

    <label>Êtes-vous exposé(e) régulièrement à la fumée passive ?</label>
    <div class="yesno">
      <label><input type="radio" name="fumee_passive" value="oui"> Oui</label>
      <label><input type="radio" name="fumee_passive" value="non"> Non</label>
    </div>
  </div>

  <!-- Section 3 -->
  <div class="section">
    <h2>3. Antécédents médicaux</h2>

    <label>Avez-vous déjà eu une maladie respiratoire chronique (BPCO, emphysème, asthme) ?</label>
    <div class="yesno">
      <label><input type="radio" name="maladie_respiratoire" value="oui"> Oui</label>
      <label><input type="radio" name="maladie_respiratoire" value="non"> Non</label>
    </div>

    <label>Avez-vous déjà été diagnostiqué(e) avec un autre cancer ?</label>
    <div class="yesno">
      <label><input type="radio" name="autre_cancer" value="oui"> Oui</label>
      <label><input type="radio" name="autre_cancer" value="non"> Non</label>
    </div>

    <label>Y a-t-il des antécédents de cancer du poumon dans votre famille proche ?</label>
    <div class="yesno">
      <label><input type="radio" name="cancer_famille" value="oui"> Oui</label>
      <label><input type="radio" name="cancer_famille" value="non"> Non</label>
    </div>

    <label>Êtes-vous suivi(e) pour une exposition professionnelle (amiante, radon, métaux lourds) ?</label>
    <div class="yesno">
      <label><input type="radio" name="exposition_pro" value="oui"> Oui</label>
      <label><input type="radio" name="exposition_pro" value="non"> Non</label>
    </div>
  </div>

  <!-- Section 4 -->
  <div class="section">
    <h2>4. Expositions environnementales</h2>

    <label>Dans quel pays habitez-vous ?</label>
    <input type="text" name="pays">

    <label>Travaillez-vous dans un environnement contenant de la poussière, de la suie ou des produits chimiques ?</label>
    <div class="yesno">
      <label><input type="radio" name="produits_chimiques" value="oui"> Oui</label>
      <label><input type="radio" name="produits_chimiques" value="non"> Non</label>
    </div>
  </div>

  <button type="submit">Envoyer</button>
</form>


  <footer class="footer">
  <div class="footer-left">
    <h3><a herf="contact.html">Aide & Contact</a></h3>
    <a>Nous joindre</a>
    <a>Questions fréquentes</a>
    <div class="social-icons">
      <a href="#"><img src="x.png"></a>
      <a href="#"><img src="instagram.png"></a>
      <a href="#"><img src="facebook.png" ></a>
      <a href="#"><img src="linkedin.png"></a>
    </div>
  </div>

  <div class="footer-right">
    <div class="footer-institute">
      <p>ORGANISATION DE<br>RECHERCHE SUR LE<br>CANCER DU POUMON</p>
      <img src="logo.jpg" alt="Logo de l'institut">
    </div>
  </div>
</footer>


  <script>
    function toggleSidebar() {
      const sidebar = document.getElementById("sidebar");
      sidebar.classList.toggle("closed");
    }

    const links = document.querySelectorAll(".sidebar a");
    links.forEach(link => {
      link.addEventListener("click", function() {
        links.forEach(l => l.classList.remove("active"));
        this.classList.add("active");
      });
    });
  </script>

  <script>
document.querySelector("form").addEventListener("submit", function(e) {
  e.preventDefault();

  // --- RÉCUPÉRATION DES DONNÉES ---
  const fumeur = document.querySelector('input[name="situation_tabac"]:checked')?.value;
  const fumeePassive = document.querySelector('input[name="fumee_passive"]:checked')?.value;
  const maladieResp = document.querySelector('input[name="maladie_respiratoire"]:checked')?.value;
  const autreCancer = document.querySelector('input[name="autre_cancer"]:checked')?.value;
  const cancerFamille = document.querySelector('input[name="cancer_famille"]:checked')?.value;
  const expositionPro = document.querySelector('input[name="exposition_pro"]:checked')?.value;
  const produitsChimiques = document.querySelector('input[name="produits_chimiques"]:checked')?.value;
  const dureeTabac = parseInt(document.querySelector('input[name="duree_tabac"]').value || 0);
  const arreteAnnees = parseInt(document.querySelector('input[name="arrete_annees"]').value || 0);
  const age = parseInt(document.querySelector('input[name="age"]').value || 0);
  const poids = parseFloat(document.querySelector('input[name="poids"]').value || 0);
  const taille = parseFloat(document.querySelector('input[name="taille"]').value || 0);
  const pays = (document.querySelector('input[name="pays"]').value || "").toLowerCase();

  // --- CALCUL DU SCORE ---
  let score = 0;

  // Tabagisme
  if (fumeur === "actuellement") score += 3;
  if (fumeur === "occasionnellement") score += 2;
  if (fumeur === "arrete" && arreteAnnees < 10) score += 1;
  if (fumeePassive === "oui") score += 1;

  // Santé
  if (maladieResp === "oui") score += 2;
  if (autreCancer === "oui") score += 2;
  if (cancerFamille === "oui") score += 2;

  // Environnement / exposition
  if (expositionPro === "oui") score += 2;
  if (produitsChimiques === "oui") score += 1;
  if (dureeTabac > 10) score += 2;

  // Âge (le risque augmente après 50 ans)
  if (age >= 50 && age < 65) score += 1;
  if (age >= 65) score += 2;

  // Poids/taille → IMC (si IMC <18.5 ou >30 = fragilité)
  if (poids > 0 && taille > 0) {
    const imc = poids / ((taille / 100) ** 2);
    if (imc < 18.5 || imc > 30) score += 1;
  }

  // Pays avec forte pollution (exemples)
  const paysPollues = ["inde", "chine", "pakistan", "bangladesh", "nigeria", "mexique"];
  if (paysPollues.includes(pays)) score += 2;

  // --- INTERPRÉTATION DU SCORE ---
  let pageResultat = "";
  if (score <= 4) {
    pageResultat = "resultat_faible.html";
  } else if (score <= 8) {
    pageResultat = "resultat_modere.html";
  } else {
    pageResultat = "resultat_eleve.html";
  }

  // --- REDIRECTION ---
  window.location.href = pageResultat;
});
</script>
</body>

</html>
